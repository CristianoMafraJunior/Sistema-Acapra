{% extends 'acapra/base/base_admin.html' %}
{% block title %}Adoções - {{ block.super }}{% endblock %}
{% block content %}
<div class="p-6">
    <!-- Título e busca centralizados -->
    <div class="flex flex-col items-center mb-8">
        <h2 class="text-3xl font-semibold text-purple-400 mb-4 text-center">Animais Adotados</h2>

        <!-- Campo de busca -->
        <form method="get" class="flex w-full max-w-md">
            <input 
                type="text" 
                name="q" 
                value="{{ query }}" 
                placeholder="Buscar por nome..." 
                class="bg-gray-800 text-white rounded-lg px-4 py-2 w-24"
            />
            <button 
                type="submit" 
                class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg"
            >
                Buscar
            </button>
        </form>
    </div>
        {% if animais %}
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6">
        {% for animal in animais %}
            <div class="bg-white rounded-lg shadow-md p-6 flex flex-col items-center">
                {% with animal.fotos.first as foto %}
                    {% if foto %}
                        <img src="{{ foto.imagem.url }}" alt="Foto de {{ animal.nome }}" class="w-full h-40 object-cover rounded-md mb-4" />
                    {% else %}
                        <div class="w-full h-40 bg-gray-200 flex items-center justify-center rounded-md mb-4 text-gray-400">Sem foto</div>
                    {% endif %}
                {% endwith %}
                <h3 class="font-bold text-lg mb-1 text-gray-800">{{ animal.nome }}</h3>
                <p class="text-gray-600">Espécie: {{ animal.especie }}</p>
                <p class="text-gray-600">Raça: {{ animal.raca }}</p>
                <p class="text-gray-600">Idade: {{ animal.idade }}</p>
                <span class="text-green-600 font-semibold mt-2">Adotado</span>

                <a href="{% url 'CancelarAdocao' animal.id %}" 
                   class="mt-4 px-4 py-2 bg-yellow-400 text-white rounded hover:bg-yellow-500">
                    Cancelar Adoção
                </a>
            </div>
        {% endfor %}
    </div>
{% else %}
    <p class="text-gray-600">Nenhum animal foi adotado ainda.</p>
{% endif %}
    </div>
{% endblock %}
