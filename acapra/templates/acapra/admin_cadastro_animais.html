{% extends 'acapra/base/base_admin.html' %}
{% block title %}Cadastro Animais - {{ block.super }}{% endblock %}
{% block content %}
    {% load static %}
    <form method="POST" enctype="multipart/form-data" class="space-y-4">
        {% csrf_token %}
        <h2 class="text-3xl font-semibold text-purple-400 mb-6">Animais Adotados</h2>
        <div class="grid grid-cols-2 gap-4">
            <div>{{ form.nome }}</div>
            <div>{{ form.especie }}</div>
        </div>
        <div class="grid grid-cols-2 gap-4">
            <div>{{ form.idade }}</div>
            <div>{{ form.porte }}</div>
        </div>
        <div class="grid grid-cols-2 gap-4">
            <div>{{ form.raca }}</div>
            <div>{{ form.vacina }}</div>
        </div>
        <div>{{ form.doenca }}</div>
        <div>{{ form.descricao }}</div>
        <div>{{ form.observacao }}</div>
        <div>{{ form.fotos }}</div>
        <button type="submit"
                class="bg-purple-500 hover:bg-purple-600 px-6 py-3 rounded-lg text-white font-bold">
            Cadastrar Animal
        </button>
    </form>
    <script>
const racaField = document.getElementById("id_raca");
const especieField = document.getElementById("id_especie");

const racasPorEspecie = {
    "Gato": [
        {value: "Siames", text: "Siames"},
        {value: "Persa", text: "Persa"},
        {value: "Maine Coon", text: "Maine Coon"}
    ],
    "Cachorro": [
        {value: "Labrador", text: "Labrador"},
        {value: "Bulldog", text: "Bulldog"},
        {value: "Poodle", text: "Poodle"}
    ]
};

// Atualiza as opções de raça quando a espécie muda
especieField.addEventListener("change", function() {
    const especieSelecionada = this.value;
    racaField.innerHTML = '<option value="">Selecione a raça</option>'; // reseta opções

    if (racasPorEspecie[especieSelecionada]) {
        racasPorEspecie[especieSelecionada].forEach(r => {
            const option = document.createElement("option");
            option.value = r.value;
            option.text = r.text;
            racaField.appendChild(option);
        });
    }
});
</script>

{% endblock %}
